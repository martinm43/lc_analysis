#Project for 16 Jan 16
#SRS Calculations in Python
#See Doug Driner's definition of SRS as it applies in the NFL.
#This version is going to have straight calculations, nothing fancy.

#MAM

from pprint import pprint
import csv
import numpy as np

app_dir='/home/martin/naismith/'
import sys
sys.path.append(app_dir+'v1.0_dev/analytics/')
from srscalc import srscalc

srsdata=[]
phone=''
mode=input('Custom SRS? (1): ')

if mode == 1:
  target = 'outfile_gms.csv'
else:
  target = 'outfile_gms_all.csv'
  
with open(phone+target,'rb') as csvfile:
	balldata = csv.reader(csvfile,delimiter=',')
	for row in balldata:
		srsdata.append(row)
csvfile.close

#Convert the data into integers (this will not be necessary if using DB data)
srsdata=[[int(m) for m in l] for l in srsdata]
pprint(srsdata)

srsdicts=srscalc(srsdata)

#Print results to screen
print('Calculated SRS results via SVD:')
pprint(srsdicts)

# #write it out.
# csvfile_out = open(phone+'SRS_vector.csv','wb')
# csvwriter = csv.writer(csvfile_out)
# for row in x:
	# #Only need to print the visiting and home team scores and names.
	# csvwriter.writerow(row)
# csvfile_out.close()

# print x
	
